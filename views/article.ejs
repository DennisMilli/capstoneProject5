<%- include("partials/header.ejs") %>
<section id="article" data-slug="<%= article.slug %>">
        <div class="hero-content">
            <img class="article-img" src="<%= article.image %>" alt="<%= article.title %>">
            <h2 class="article-title"><%= article.title %></h2>
            <button id="scrollBtn" class="scroll-btn">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-up-icon lucide-chevron-up">
                    <path d="m18 15-6-6-6 6"/>
                </svg>
                <p>Scroll To Read</p>
            </button>
            <div class="action-keys">
                <span>
                    <svg class="back-icon" data-action="goBack" title="Go Back" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M19 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H19v-2z"></path>
                    </svg>
                </span>
                <span>
                    <svg class="share-icon" data-action="share-post" title="Share this post" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-forward-icon">
                        <path d="m15 17 5-5-5-5"/>
                        <path d="M4 18v-2a4 4 0 0 1 4-4h12"/>
                    </svg>
                </span>
            </div>
        </div>
        <div class="write-up">
            <div class="article-details">
                <p class="author"> By <%= article.author %></p>
                <div>
                    <p><%= article.time %></p> | <p><%= article.category %></p>
                </div>
            </div>
            <div class="article-write-up">
                <%- article.content %>
            </div>
        </div>
</section>
<section class="articles-section">
    <div class="section-title">
        <h2>Related Articles</h2>
    </div>
  
    <div id="articles-grid" class="articles-grid">
  
      <% articles.forEach(article => { %>
        <article class="article-card">
            <a href="/article/<%= article.slug %>" class="article-link">
                <img src="<%= article.image %>" alt="<%= article.title %>" class="article-img" />
    
                <div class="article-content">
                <h3 class="article-title"><%= article.title %></h3>
                <p class="article-summary"><%= article.summary %></p>
    
                <div class="article-meta">
                    <p class="upload-time"><%= article.time %> | <%= article.category %></p>
    
                    <svg class="share-icon" data-action="share-post" title="Share this post" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-forward-icon">
                    <path d="m15 17 5-5-5-5"/>
                    <path d="M4 18v-2a4 4 0 0 1 4-4h12"/>
                    </svg>
                </div>
                </div>
            </a>
        </article>
      <% }) %>
  
    </div>
  
    <button id="showMoreBtn" class="show-more">Show More</button>
</section>
<section id="comments" class="comments-section">
    <div class="comments-header">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-circle-more-icon lucide-message-circle-more">
            <path d="M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719"/><path d="M8 12h.01"/><path d="M12 12h.01"/><path d="M16 12h.01"/>
        </svg>
        <h2 class="comments-title">Comments</h2>
        <span class="comments-count">(<%= comments.length %>)</span>
    </div>

    <div class="comment-form-card">
        <div class="comment-form-header">
            <h3 class="comment-form-title">Leave a comment</h3>
        </div>
        <div class="comment-form-content">
            <form id="commentForm" class="comment-form">
                <div class="form-group">
                    <input type="text" id="commentAuthor" name="author" placeholder="Your name (optional)" class="form-input">
                </div>
                <div class="form-group">
                    <textarea id="commentContent" name="content" placeholder="Share your thoughts..." class="form-textarea" required></textarea>
                </div>
                <div class="form-actions">
                    <button type="submit" class="submit-btn">Post Comment</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Comments List -->
    <div class="comments-list">
        <% comments.forEach(comment => { %>
            <div class="comment-card" data-comment-id="<%= comment.id %>">
                <div class="comment-content">
                    <div class="comment-avatar">
                        <span class="avatar-initials"><%= comment.initials %></span>
                    </div>
                    <div class="comment-body">
                        <div class="comment-meta">
                            <span class="comment-author"><%= comment.author %></span>
                            <span class="comment-time"><%= comment.time %></span>
                        </div>
                        <p class="comment-text"><%= comment.content %></p>
                        <button class="like-btn" data-comment-id="<%= comment.id %>">
                            <svg class="like-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M7 10v12"/>
                                <path d="M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z"/>
                            </svg>
                            <span class="like-count"><%= comment.likes %></span>
                        </button>
                    </div>
                </div>
            </div>
        <% }) %>
    </div>
</section>

<div class="fab-container">
    <button class="fab-main" id="fabMain">
        <span class="fab-icon">+</span>
    </button>
    <div class="fab-options">
        <button class="fab-option like" data-action="like" title="I like this">
            <span>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-thumbs-up-icon lucide-thumbs-up">
                    <path d="M7 10v12"/><path d="M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z"/>
                </svg>
            </span>
        </button>
        <button class="fab-option comments" data-action="comment" title="Comments">
            <span>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-circle-more-icon lucide-message-circle-more">
                    <path d="M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719"/><path d="M8 12h.01"/><path d="M12 12h.01"/><path d="M16 12h.01"/>
                </svg>
            </span>
        </button>
        <button class="fab-option create-post" data-action="create-post" title="Create Post">
            <span>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-notebook-pen-icon lucide-notebook-pen"><path d="M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4"/><path d="M2 6h4"/><path d="M2 10h4"/><path d="M2 14h4"/><path d="M2 18h4"/><path d="M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z"/></svg>
            </span>
        </button>
        <button class="fab-option share-post" data-action="share-post" title="Share Post">
            <span>
                <svg class="share-icon" data-action="share-post" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-forward-icon">
                    <path d="m15 17 5-5-5-5"/>
                    <path d="M4 18v-2a4 4 0 0 1 4-4h12"/>
                </svg>
            </span>
        </button>
    </div>
</div>
<%- include("partials/modals.ejs") %>
<%- include("partials/footer.ejs") %>